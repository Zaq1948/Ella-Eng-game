<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Word Learning Game</title>
    <style>
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background-color: #fce4ec;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }
        #game-container {
            background-color: white;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            text-align: center;
            max-width: 600px;
            width: 100%;
        }
        h1 {
            color: #e91e63;
        }
        #word {
            font-size: 36px;
            color: #9c27b0;
            margin: 20px 0;
        }
        .option {
            background-color: #f8bbd0;
            border: none;
            border-radius: 15px;
            color: #880e4f;
            padding: 10px 20px;
            margin: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .option:hover {
            background-color: #f48fb1;
        }
        .option.selected {
            background-color: #ff4081;
            color: white;
        }
        #submit {
            background-color: #4a148c;
            color: white;
            border: none;
            border-radius: 15px;
            padding: 10px 20px;
            margin-top: 20px;
            font-size: 18px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        #submit:hover {
            background-color: #6a1b9a;
        }
        #feedback {
            margin: 20px 0;
            font-weight: bold;
        }
        .correct {
            color: #4caf50;
        }
        .incorrect {
            color: #f44336;
        }
        #status {
            margin-top: 20px;
            font-size: 14px;
            color: #616161;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <h1>Word Learning Game</h1>
        <div id="word"></div>
        <div id="options"></div>
        <button id="submit" disabled>Submit Answer</button>
        <div id="feedback"></div>
        <div id="status"></div>
    </div>

    <script>
        const words = [
            {word: "age", meaning: "period of life", synonym: "stage of life"},
            {word: "all of a sudden", meaning: "suddenly", synonym: "abruptly"},
            {word: "all on (your) own", meaning: "independently", synonym: "alone"},
            {word: "all over the place", meaning: "chaotically", synonym: "disorganized"},
            {word: "behind", meaning: "at the back of", synonym: "after"},
            {word: "bell", meaning: "sound signal", synonym: "chime"},
            {word: "blow up", meaning: "explode", synonym: "explode"},
            {word: "bold", meaning: "brave", synonym: "fearless"},
            {word: "bring up", meaning: "mention", synonym: "raise"},
            {word: "burst into tears", meaning: "start crying", synonym: "cry"},
            {word: "calculate", meaning: "compute", synonym: "compute"},
            {word: "check out", meaning: "examine", synonym: "inspect"},
            {word: "collector", meaning: "gatherer", synonym: "gatherer"},
            {word: "come first", meaning: "be the priority", synonym: "prioritize"},
            {word: "debt", meaning: "money owed", synonym: "loan"},
            {word: "demanding", meaning: "challenging", synonym: "difficult"},
            {word: "determine", meaning: "decide", synonym: "decide"},
            {word: "development", meaning: "advancement", synonym: "growth"},
            {word: "disagreement", meaning: "difference of opinion", synonym: "conflict"},
            {word: "discovery", meaning: "finding", synonym: "find"},
            {word: "dishonest", meaning: "lying", synonym: "deceitful"},
            {word: "dislike", meaning: "not like", synonym: "hate"},
            {word: "dramatic", meaning: "emotional", synonym: "theatrical"},
            {word: "either way", meaning: "any option", synonym: "either"},
            {word: "extraordinary", meaning: "remarkable", synonym: "amazing"},
            {word: "findings", meaning: "results", synonym: "results"},
            {word: "fit", meaning: "healthy", synonym: "fit"},
            {word: "focus", meaning: "concentration", synonym: "attention"},
            {word: "get away with", meaning: "succeed in avoiding", synonym: "evade"},
            {word: "give up", meaning: "abandon", synonym: "quit"},
            {word: "go out", meaning: "leave", synonym: "exit"},
            {word: "grown-up", meaning: "adult", synonym: "adult"},
            {word: "hold up", meaning: "delay", synonym: "delay"},
            {word: "hurry up", meaning: "speed up", synonym: "speed"},
            {word: "identical", meaning: "exactly the same", synonym: "same"},
            {word: "immoral", meaning: "unethical", synonym: "corrupt"},
            {word: "in actual fact", meaning: "in reality", synonym: "actually"},
            {word: "issue", meaning: "problem", synonym: "problem"},
            {word: "knowledge", meaning: "information", synonym: "information"},
            {word: "lively", meaning: "energetic", synonym: "active"},
            {word: "log on", meaning: "sign in", synonym: "login"},
            {word: "make sense", meaning: "be logical", synonym: "logical"},
            {word: "misunderstand", meaning: "fail to understand", synonym: "misinterpret"},
            {word: "mix up", meaning: "confuse", synonym: "confuse"},
            {word: "modest", meaning: "humble", synonym: "humble"},
            {word: "mystery", meaning: "puzzle", synonym: "enigma"},
            {word: "nevertheless", meaning: "still", synonym: "yet"},
            {word: "not believe (your) ears", meaning: "very surprising", synonym: "shock"},
            {word: "on a diet", meaning: "restrict food", synonym: "diet"},
            {word: "on the one hand", meaning: "on the one side", synonym: "first"},
            {word: "personality", meaning: "character", synonym: "character"},
            {word: "put up with", meaning: "tolerate", synonym: "endure"},
            {word: "reason", meaning: "explanation", synonym: "reason"},
            {word: "reassure", meaning: "comfort", synonym: "comfort"},
            {word: "recycle", meaning: "reuse", synonym: "reuse"},
            {word: "refund", meaning: "reimbursement", synonym: "reimbursement"},
            {word: "relationship", meaning: "connection", synonym: "bond"},
            {word: "remain calm", meaning: "stay composed", synonym: "calm"},
            {word: "research", meaning: "investigate", synonym: "study"},
            {word: "rob", meaning: "steal", synonym: "steal"},
            {word: "rub out", meaning: "erase", synonym: "erase"},
            {word: "salary", meaning: "payment for work", synonym: "wages"},
            {word: "show up", meaning: "arrive", synonym: "arrive"},
            {word: "sidewalk", meaning: "pavement", synonym: "pavement"},
            {word: "significant", meaning: "important", synonym: "important"},
            {word: "similarity", meaning: "resemblance", synonym: "likeness"},
            {word: "sound angry", meaning: "sound upset", synonym: "angry"},
            {word: "special offer", meaning: "promotion", synonym: "discount"},
            {word: "split up", meaning: "break up", synonym: "break"},
            {word: "strangely enough", meaning: "oddly", synonym: "oddly"},
            {word: "sum up", meaning: "summarize", synonym: "summarize"},
            {word: "take a risk", meaning: "take chances", synonym: "dare"},
            {word: "tie up", meaning: "fasten", synonym: "fasten"},
            {word: "tip", meaning: "helpful advice", synonym: "advice"},
            {word: "to start with", meaning: "initially", synonym: "initially"},
            {word: "uncomfortable", meaning: "ill at ease", synonym: "awkward"},
            {word: "undressed", meaning: "without clothes", synonym: "naked"},
            {word: "unemployed", meaning: "jobless", synonym: "jobless"},
            {word: "unexpected", meaning: "surprising", synonym: "surprise"},
            {word: "unknown", meaning: "not known", synonym: "not identified"},
            {word: "unpack", meaning: "open", synonym: "take out"},
            {word: "weakness", meaning: "lack of strength", synonym: "frailty"},
            {word: "wear out", meaning: "wear down", synonym: "exhaust"}
        ];

        let currentWord;
        let score = 0;
        let attempts = 0;
        let remainingWords = [...words];

        const wordElement = document.getElementById('word');
        const optionsElement = document.getElementById('options');
        const submitButton = document.getElementById('submit');
        const feedbackElement = document.getElementById('feedback');
        const statusElement = document.getElementById('status');

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function getRandomOptions(count) {
            const options = words.filter(w => w !== currentWord).map(w => w.meaning);
            shuffleArray(options);
            return options.slice(0, count);
        }

        function displayWord() {
            if (remainingWords.length === 0) {
                wordElement.textContent = "Game Over!";
                optionsElement.innerHTML = `<p>Your final score is ${score}.</p>`;
                submitButton.style.display = 'none';
                statusElement.textContent = `Game completed!`;
                return;
            }

            const index = Math.floor(Math.random() * remainingWords.length);
            currentWord = remainingWords[index];
            remainingWords.splice(index, 1);

            wordElement.textContent = currentWord.word;

            const options = [
                currentWord.meaning,
                currentWord.synonym,
                ...getRandomOptions(3)
            ];
            shuffleArray(options);

            optionsElement.innerHTML = '';
            options.forEach(option => {
                const button = document.createElement('button');
                button.textContent = option;
                button.classList.add('option');
                button.addEventListener('click', () => toggleOption(button));
                optionsElement.appendChild(button);
            });

            submitButton.disabled = true;
            feedbackElement.textContent = '';
            updateStatus();
        }

        function toggleOption(button) {
            button.classList.toggle('selected');
            submitButton.disabled = document.querySelectorAll('.option.selected').length !== 2;
        }

        function checkAnswer() {
            attempts++;
            const selectedOptions = Array.from(document.querySelectorAll('.option.selected')).map(b => b.textContent);
            const correctOptions = [currentWord.meaning, currentWord.synonym];
            
            if (selectedOptions.every(option => correctOptions.includes(option)) && selectedOptions.length === 2) {
                feedbackElement.textContent = "Correct! Well done!";
                feedbackElement.className = "correct";
                score++;
                playSound(true);
                setTimeout(displayWord, 1500);
            } else {
                feedbackElement.textContent = "Incorrect. Try again!";
                feedbackElement.className = "incorrect";
                playSound(false);
                if (attempts === 2) {
                    feedbackElement.textContent = `Sorry, the correct answers are: ${correctOptions.join(' and ')}`;
                    setTimeout(displayWord, 3000);
                    attempts = 0;
                }
            }
            updateStatus();
        }

        function updateStatus() {
            statusElement.textContent = `Score: ${score} | Attempts: ${attempts} | Words left: ${remainingWords.length}`;
        }

        function playSound(correct) {
            const audio = new Audio(correct ? '/api/sound/success' : '/api/sound/error');
            audio.play();
        }

        submitButton.addEventListener('click', checkAnswer);
        displayWord();
    </script>
</body>
</html>